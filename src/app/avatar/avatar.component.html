<h1>Face Crop</h1>
<div style="text-align:center">
    <h1>Webcam</h1>

    <div>
        <webcam
            [height]="500"
            [width]="500"
            [trigger]="triggerObservable"
            (imageCapture)="handleImage($event)"
            *ngIf="showWebcam"
            [allowCameraSwitch]="allowCameraSwitch"
            [switchCamera]="nextWebcamObservable"
            [videoOptions]="videoOptions"
            [imageQuality]="1"
            (cameraSwitched)="cameraWasSwitched($event)"
            (initError)="handleInitError($event)"
        ></webcam>
        <br>
        <button
            class="actionBtn"
            (click)="triggerSnapshot();"
        >
            Take A Snapshot
        </button>
        <button
            class="actionBtn"
            (click)="toggleWebcam();"
        >
            Toggle Webcam
        </button>
    </div>
    <!-- <div
        class="snapshot"
        *ngIf="webcamImage"
    >
        <h2>Nice one!</h2>
        <img [src]="webcamImage.imageAsDataUrl">
    </div> -->
</div>
<input
    type="file"
    (change)="fileChangeEvent($event)"
>

<image-cropper
    [imageChangedEvent]="imageChangedEvent"
    [imageBase64]="imageBase64"
    [maintainAspectRatio]="true"
    [aspectRatio]="4 / 3"
    [resizeToWidth]="128"
    format="png"
    (imageCropped)="imageCropped($event)"
    (imageLoaded)="imageLoaded()"
    (cropperReady)="cropperReady()"
    (loadImageFailed)="loadImageFailed()"
></image-cropper>

<img [src]="croppedImage">



<h1>smartcrop.js testbed</h1>
    <p>
      smartcrop.js is a content aware image cropping library. On this page you
      can test it with your own images. You can learn more about the library on
      it's <a href="https://github.com/jwagner/smartcrop.js/">github page</a>.
    </p>
    <div>
      <form>
        <div class="drop">
          <h2>Drop images on this page to analyze them.</h2>
          <input type="file" name="file" accept="image/*" />
        </div>
        <label
          >Width
          <div>
            <input
              name="width"
              type="range"
              min="50"
              max="400"
              step="1"
              value="250"
            /><span class="value">250</span>px
          </div></label
        >
        <label
          >Height
          <div>
            <input
              name="height"
              type="range"
              min="50"
              max="600"
              step="1"
              value="250"
            /><span class="value">250</span>px
          </div></label
        >
        <label
          >minScale
          <div>
            <input
              name="minScale"
              type="range"
              min="0.5"
              max="1.0"
              step="0.1"
              value="1"
            /><span class="value">1.0</span>
          </div></label
        >
        <p>
          <label
            >Rule of thirds<input
              name="ruleOfThirds"
              type="checkbox"
              value="1"
              checked
          /></label>
        </p>
        <p><strong>Face Detection</strong></p>
        <div>
          <label
            ><input
              name="faceDetection"
              type="radio"
              value="off"
              checked
            />Off</label
          >
        </div>
        <div>
          <label
            ><input name="faceDetection" type="radio" value="face-api" />Use
            <a href="https://github.com/justadudewhohacks/face-api.js"
              >face-api.js</a
            >
            (tiny_face_detector model)
          </label>
        </div>
        <div>
          <label
            ><input name="faceDetection" type="radio" value="jquery" />Use
            <a href="http://facedetection.jaysalvat.com/"
              >jquery.facedetection</a
            ></label
          >
        </div>
        <div>
          <label
            ><input name="faceDetection" type="radio" value="tracking" />Use
            <a href="https://trackingjs.com/">tracking.js</a></label
          >
        </div>
        <div>
          <label class="opencv-loading"
            ><input
              name="faceDetection"
              type="radio"
              value="opencv"
              disabled
            />Use <a href="https://opencv.org/">opencv.js</a></label
          >
        </div>
      </form>
    </div>
    <div class="output">
      <canvas id="c"></canvas>
    </div>
    <div class="sidebar">
      <div id="debug"></div>
      <h4>All Crops</h4>
      <div class="crops"></div>
    </div>
